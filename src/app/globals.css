@tailwind base;
@tailwind components;
@tailwind utilities;

@keyframes blink {
  0%, 100% { opacity: 1; }
  50% { opacity: 0; }
}

body {
  font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;
}

h1, h2, h3, h4, h5, h6 {
  font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;
  font-weight: 600;
}

@layer base {
  :root {
    /* Premium Light Theme */
    --background: 0 0% 100%; /* Pure white */
    --foreground: 215 25% 20%; /* Dark gray for readability */

    --muted: 210 40% 96%; /* Very light gray */
    --muted-foreground: 215 15% 45%;

    --popover: 0 0% 100%; /* White */
    --popover-foreground: 215 25% 20%;

    --card: 0 0% 100%; /* White */
    --card-foreground: 215 25% 20%;

    --border: 210 20% 90%; /* Light gray border */
    --input: 210 20% 95%; /* Very light input background */

    --primary: 221 83% 53%; /* Blue-600 */
    --primary-foreground: 0 0% 100%; /* White */

    --secondary: 210 40% 96%; /* Light gray */
    --secondary-foreground: 215 25% 20%;

    --accent: 221 83% 53%; /* Blue-600 */
    --accent-foreground: 0 0% 100%; /* White */

    --destructive: 0 84% 60%; /* Red-500 */
    --destructive-foreground: 0 0% 100%;

    --ring: 221 83% 53%; /* Blue-600 for focus rings */

    --radius: 0.75rem; /* Slightly more rounded */

    --chart-1: 221 83% 53%;
    --chart-2: 142 76% 36%;
    --chart-3: 38 92% 50%;
    --chart-4: 280 100% 70%;
    --chart-5: 24 95% 53%;

    /* Sidebar specific colors */
    --sidebar-background: 248 250 252; /* #F8F9FA */
    --sidebar-foreground: 31 41% 55%; /* #6B7280 */
    --sidebar-primary: 221 83% 53%; /* Blue-600 */
    --sidebar-primary-foreground: 0 0% 100%;
    --sidebar-accent: 243 244% 246%; /* #F3F4F6 */
    --sidebar-accent-foreground: 221 83% 53%;
    --sidebar-border: 229 231% 235%; /* #E5E7EB */
    --sidebar-ring: 221 83% 53%;
  }

  /* Custom scrollbar styles */
  ::-webkit-scrollbar {
    width: 6px;
    height: 6px;
  }

  ::-webkit-scrollbar-track {
    background: transparent;
  }

  ::-webkit-scrollbar-thumb {
    background: #D1D5DB;
    border-radius: 3px;
  }

  ::-webkit-scrollbar-thumb:hover {
    background: #9CA3AF;
  }

  /* Firefox scrollbar */
  * {
    scrollbar-width: thin;
    scrollbar-color: #D1D5DB transparent;
  }
}

@layer base {
  * {
    @apply border-border;
  }
  body {
    @apply bg-background text-foreground;
    font-feature-settings: "rlig" 1, "calt" 1; /* Enable OpenType features for Inter font */
  }
  section {
    @apply py-16 md:py-24;
  }
  h1, h2, h3, h4, h5, h6 {
    @apply font-heading;
  }
  p, span, div, li, a, button, label, input, textarea, select { /* Apply body font more broadly */
    @apply font-body;
  }
}

/* Animations from Hero Section - can be global if used elsewhere */
.animation-delay-300 { animation-delay: 0.3s; }
.animation-delay-600 { animation-delay: 0.6s; }
@keyframes fade-in {
  from { opacity: 0; transform: translateY(-10px); }
  to { opacity: 1; transform: translateY(0); }
}
@keyframes slide-in-up {
  from { opacity: 0; transform: translateY(20px); }
  to { opacity: 1; transform: translateY(0); }
}
.animate-fade-in { animation: fade-in 0.8s ease-out forwards; }
.animate-slide-in-up { animation: slide-in-up 0.8s ease-out forwards; }

/* Liveblocks Collaboration Cursor Styles - Popup instead of inline text */

/* Hide collaboration cursor text labels */
.tiptap [data-collaboration-cursor] > span,
.tiptap .collaboration-cursor > span,
.tiptap span[data-user],
.tiptap [class*="collaboration-cursor"] > span,
.tiptap .collaboration-cursor__label,
.collaboration-cursor__label {
  display: none !important;
  visibility: hidden !important;
  font-size: 0 !important;
  width: 0 !important;
  height: 0 !important;
  overflow: hidden !important;
  text-indent: -9999px !important;
  opacity: 0 !important;
  color: transparent !important;
}

/* Style the cursor container as a thin line */
.tiptap [data-collaboration-cursor],
.tiptap .collaboration-cursor,
.tiptap span[data-user],
.tiptap [class*="collaboration-cursor"],
.tiptap .collaboration-cursor__caret,
.collaboration-cursor__caret {
  position: relative;
  display: inline-block;
  width: 2px !important;
  min-width: 2px !important;
  height: 1.2em !important;
  vertical-align: baseline;
  margin: 0 1px;
  background-color: transparent !important;
  border-left: 2px solid;
  border-radius: 0;
  padding: 0 !important;
  line-height: inherit;
  cursor: pointer;
  pointer-events: auto;
}

/* Hide any background highlighting */
.tiptap [data-collaboration-cursor],
.tiptap .collaboration-cursor,
.tiptap span[data-user],
.tiptap [class*="collaboration-cursor"] {
  background: transparent !important;
  background-color: transparent !important;
}

/* Tooltip styling */
.tiptap [data-collaboration-cursor]::after,
.tiptap .collaboration-cursor::after,
.tiptap span[data-user]::after,
.tiptap [class*="collaboration-cursor"]::after,
.tiptap .collaboration-cursor__caret::after,
.collaboration-cursor__caret::after,
[data-username]::after,
[data-user-name]::after {
  content: attr(data-username);
  position: absolute;
  bottom: 100%;
  left: 50%;
  transform: translateX(-50%);
  margin-bottom: 4px;
  padding: 4px 8px;
  background-color: #1a1a1a;
  color: #ffffff;
  font-size: 12px;
  font-weight: 500;
  white-space: nowrap;
  border-radius: 4px;
  opacity: 0;
  pointer-events: none;
  transition: opacity 0.2s ease-in-out;
  z-index: 1000;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
}

/* Fallback if data-username is empty, try data-user-name */
[data-user-name]:not([data-username])::after {
  content: attr(data-user-name);
}

/* Tooltip arrow */
.tiptap [data-collaboration-cursor]::before,
.tiptap .collaboration-cursor::before,
.tiptap span[data-user]::before,
.tiptap [class*="collaboration-cursor"]::before,
.tiptap .collaboration-cursor__caret::before,
.collaboration-cursor__caret::before,
[data-username]::before,
[data-user-name]::before {
  content: '';
  position: absolute;
  bottom: 100%;
  left: 50%;
  transform: translateX(-50%);
  margin-bottom: -2px;
  width: 0;
  height: 0;
  border-left: 4px solid transparent;
  border-right: 4px solid transparent;
  border-top: 4px solid #1a1a1a;
  opacity: 0;
  pointer-events: none;
  transition: opacity 0.2s ease-in-out;
  z-index: 1001;
}

/* Show tooltip on hover */
.tiptap [data-collaboration-cursor]:hover::after,
.tiptap .collaboration-cursor:hover::after,
.tiptap span[data-user]:hover::after,
.tiptap [class*="collaboration-cursor"]:hover::after,
.tiptap .collaboration-cursor__caret:hover::after,
.collaboration-cursor__caret:hover::after,
[data-username]:hover::after,
[data-user-name]:hover::after,
[data-cursor-processed="true"]:hover::after {
  opacity: 1 !important;
}

.tiptap [data-collaboration-cursor]:hover::before,
.tiptap .collaboration-cursor:hover::before,
.tiptap span[data-user]:hover::before,
.tiptap [class*="collaboration-cursor"]:hover::before,
.tiptap .collaboration-cursor__caret:hover::before,
.collaboration-cursor__caret:hover::before,
[data-username]:hover::before,
[data-user-name]:hover::before,
[data-cursor-processed="true"]:hover::before {
  opacity: 1 !important;
}

/* Universal tooltip for any element with data-username */
[data-username]:not(:empty):hover::after,
[data-user-name]:not(:empty):hover::after {
  content: attr(data-username) !important;
  position: absolute !important;
  bottom: 100% !important;
  left: 50% !important;
  transform: translateX(-50%) !important;
  margin-bottom: 4px !important;
  padding: 4px 8px !important;
  background-color: #1a1a1a !important;
  color: #ffffff !important;
  font-size: 12px !important;
  font-weight: 500 !important;
  white-space: nowrap !important;
  border-radius: 4px !important;
  opacity: 1 !important;
  pointer-events: none !important;
  z-index: 10000 !important;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15) !important;
}

[data-user-name]:not([data-username]):not(:empty):hover::after {
  content: attr(data-user-name) !important;
}